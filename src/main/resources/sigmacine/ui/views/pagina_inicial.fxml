<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns="http://javafx.com/javafx/17.0.12"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="sigmacine.ui.controller.ClienteController"
            prefHeight="600.0" prefWidth="1000.0"
            style="-fx-background-color:#000000;"
            stylesheets="@sigma.css">

    <!-- ===== TOP BAR ===== -->
    <top>
        <HBox alignment="CENTER_LEFT" spacing="12" BorderPane.alignment="CENTER" styleClass="topbar">
            <children>
                <Label text="SIGMA CINE" styleClass="brand"/>

                <Button fx:id="btnCartelera"  text="Cartelera"  styleClass="toplink"/>
                <Button fx:id="btnConfiteria" text="Confitería" styleClass="toplink"/>
                <Button fx:id="btnSigmaCard"  text="Sigma Card" styleClass="toplink"/>

                <Region HBox.hgrow="ALWAYS"/>

                <TextField fx:id="txtBuscar" promptText="Buscar" prefWidth="200" styleClass="search"/>
                <Button fx:id="btnBuscar" text="Buscar" onAction="#onBuscarTop"/>

                <Button fx:id="btnCart" text="Cart" styleClass="toplink"/>

                <MenuButton text="" styleClass="icon-btn">
                    <items>
                        <MenuItem text="Mi Cuenta"/>
                        <MenuItem text="Buscar Tiquetes"/>
                        <MenuItem text="Confitería"/>
                        <MenuItem text="Promociones"/>
                        <MenuItem text="Información Personal"/>
                        <MenuItem text="SigmaCard"/>
                        <MenuItem fx:id="miHistorial" text="Historial de compras"/>
                        <MenuItem text="Notificaciones"/>
                        <MenuItem text="Cartelera"/>
                        <SeparatorMenuItem/>
                        <MenuItem fx:id="miCerrarSesion" text="Cerrar Sesión"/>
                    </items>
                </MenuButton>
            </children>
            <padding>
                <Insets top="10" right="16" bottom="10" left="16"/>
            </padding>
        </HBox>
    </top>

    <!-- ===== CENTRO: TODO en un solo StackPane ===== -->
    <center>
        <StackPane>
            <children>

                <!-- Franja de promoción (fondo) -->
                <StackPane fx:id="promoPane"
                           prefHeight="110.0" minHeight="110.0" maxHeight="110.0"
                           style="-fx-background-color:#993726;"/>

                <!-- Imagen de publicidad -->
                <ImageView fx:id="imgPublicidad"
                           fitHeight="110.0"
                           preserveRatio="true"
                           pickOnBounds="true"
                           StackPane.alignment="CENTER">
                    <image>
                        <!-- Relativa al FXML -->
                        <Image url="@Images/publicidad.png"/>
                        <!-- O, si está en el classpath como /Images/publicidad.png:
                        <Image url="/Images/publicidad.png"/> -->
                    </image>
                </ImageView>

                <!-- Título de la promo -->
                <Label fx:id="lblPromo"
                       text="Promoción"
                       style="-fx-text-fill:#ffffff; -fx-font-weight:bold;"
                       StackPane.alignment="TOP_LEFT"
                       translateX="33" translateY="10">
                    <font><Font name="System Bold" size="13.0"/></font>
                </Label>

                <!-- Botón Ver más de la promo -->
                <Button fx:id="btnPromoVerMas"
                        text="Ver más"
                        prefWidth="75.0" prefHeight="30.0"
                        style="-fx-background-color:#993726; -fx-background-radius:14; -fx-text-fill:#ffffff; -fx-font-weight:bold;"
                        StackPane.alignment="BOTTOM_LEFT"
                        translateX="32" translateY="-8">
                    <font><Font size="10.0"/></font>
                </Button>

                <!-- “Tarjetas” inferiores movidas aquí (antes estaban en <bottom>) -->
                <HBox fx:id="bottomCardsLayer"
                      alignment="CENTER"
                      prefHeight="191.0" prefWidth="606.0"
                      StackPane.alignment="BOTTOM_CENTER">
                    <children>
                        <GridPane alignment="CENTER" prefHeight="172.0" prefWidth="602.0">
                            <columnConstraints>
                                <ColumnConstraints hgrow="SOMETIMES" prefWidth="167.8"/>
                                <ColumnConstraints hgrow="SOMETIMES" prefWidth="103.2"/>
                                <ColumnConstraints hgrow="SOMETIMES" prefWidth="140.0"/>
                                <ColumnConstraints hgrow="SOMETIMES" prefWidth="144.8"/>
                                <ColumnConstraints hgrow="SOMETIMES" prefWidth="26.6"/>
                            </columnConstraints>
                            <rowConstraints>
                                <RowConstraints vgrow="SOMETIMES" prefHeight="114.0"/>
                                <RowConstraints vgrow="SOMETIMES" prefHeight="41.8"/>
                                <RowConstraints vgrow="SOMETIMES" prefHeight="62.6"/>
                            </rowConstraints>
                            <children>
                                <ImageView fitHeight="115.0" fitWidth="149.0" pickOnBounds="true" preserveRatio="true"/>
                                <ImageView fitHeight="115.0" fitWidth="149.0" pickOnBounds="true" preserveRatio="true" GridPane.columnIndex="1"/>
                                <ImageView fitHeight="106.0" fitWidth="149.0" pickOnBounds="true" preserveRatio="true" GridPane.columnIndex="2"/>
                                <ImageView fitHeight="98.0"  fitWidth="144.0" pickOnBounds="true" preserveRatio="true" GridPane.columnIndex="3"/>

                                <!-- Botones “Ver más” (sin Labels de muestra) -->
                                <Button fx:id="btnCard1" onAction="#onCard1"
                                        prefHeight="30.0" prefWidth="69.0"
                                        style="-fx-background-color:#993726; -fx-background-radius:14; -fx-font-weight:bold; -fx-text-fill:#ffffff;"
                                        text="Ver más" GridPane.halignment="CENTER" GridPane.rowIndex="2">
                                    <font><Font size="10.0"/></font>
                                </Button>
                                <Button fx:id="btnCard2" onAction="#onCard2"
                                        prefHeight="30.0" prefWidth="69.0"
                                        style="-fx-background-color:#993726; -fx-background-radius:14; -fx-font-weight:bold; -fx-text-fill:#ffffff;"
                                        text="Ver más" GridPane.columnIndex="1" GridPane.halignment="CENTER" GridPane.rowIndex="2">
                                    <font><Font size="10.0"/></font>
                                </Button>
                                <Button fx:id="btnCard3" onAction="#onCard3"
                                        prefHeight="30.0" prefWidth="69.0"
                                        style="-fx-background-color:#993726; -fx-background-radius:14; -fx-font-weight:bold; -fx-text-fill:#ffffff;"
                                        text="Ver más" GridPane.columnIndex="2" GridPane.halignment="CENTER" GridPane.rowIndex="2">
                                    <font><Font size="10.0"/></font>
                                </Button>
                                <Button fx:id="btnCard4" onAction="#onCard4"
                                        prefHeight="30.0" prefWidth="69.0"
                                        style="-fx-background-color:#993726; -fx-background-radius:14; -fx-font-weight:bold; -fx-text-fill:#ffffff;"
                                        text="Ver más" GridPane.columnIndex="3" GridPane.halignment="CENTER" GridPane.rowIndex="2">
                                    <font><Font size="10.0"/></font>
                                </Button>
                            </children>
                        </GridPane>
                    </children>
                    <padding><Insets top="0" right="0" bottom="8" left="0"/></padding>
                </HBox>

                <!-- CONTENEDOR DINÁMICO (siempre al final para quedar arriba) -->
                <StackPane fx:id="content"/>
            </children>
        </StackPane>
    </center>

</BorderPane>

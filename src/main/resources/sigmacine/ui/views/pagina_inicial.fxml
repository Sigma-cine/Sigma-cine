<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.layout.StackPane?>
  <?import javafx.scene.layout.Region?>
  <?import javafx.scene.image.ImageView?>
  <?import javafx.scene.image.Image?>
  <?import javafx.scene.control.Label?>
  <?import javafx.scene.control.Button?>
  <?import javafx.scene.text.Font?>

<BorderPane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="600.0" prefWidth="1000.0" style="-fx-background-color: #000000;" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" 
            fx:controller="sigmacine.ui.controller.ClienteController"
            stylesheets="@sigma.css">
   <!-- ===== TOP BAR ===== -->
    <top>
        <HBox alignment="CENTER_LEFT" spacing="12" BorderPane.alignment="CENTER"
            styleClass="topbar">
            <children>

                <!-- Marca / Logo (texto por ahora; si usas ImageView, colócalo aquí) -->
                <Label text="SIGMA CINE" styleClass="brand"/>

                <!-- Navegación -->
                <Button fx:id="btnCartelera"  text="Cartelera"  styleClass="toplink"/>
                <Button fx:id="btnConfiteria" text="Confitería" styleClass="toplink"/>
                <Button fx:id="btnSigmaCard"  text="Sigma Card" styleClass="toplink"/>
                <Button fx:id="btnCart" text="Cart"/>

                <!-- Separador flexible para empujar a la derecha -->
                <Region HBox.hgrow="ALWAYS"/>

                <!-- Buscador -->
                <TextField fx:id="txtBuscar" promptText="Buscar" prefWidth="200"
                        styleClass="search"/>
                <Button fx:id="btnBuscar" text="Buscar" onAction="#onBuscarTop" />

                <!-- Carrito -->
                <Button fx:id="btnCart" text="Cart" styleClass="toplink"/>

        <!-- Perfil / Sesión: botón para iniciar sesión, label para nombre y botón de registro -->
        <Button fx:id="btnIniciarSesion" text="Iniciar sesión" styleClass="toplink" />
        <Label fx:id="lblUserName" text="" styleClass="toplink" visible="false" />
        <Button fx:id="btnRegistrarse" text="Registrarse" styleClass="toplink" />

        <!-- Perfil (menu de opciones) -->
  <MenuButton fx:id="menuPerfil" text="👤" styleClass="icon-btn">
                    <items>
                        <MenuItem text="Mi Cuenta"/>
                        <MenuItem text="Buscar Tiquetes"/>
                        <MenuItem text="Confitería"/>
                        <MenuItem text="Promociones"/>
                        <MenuItem text="Información Personal"/>
                        <MenuItem text="SigmaCard"/>
                        <MenuItem fx:id="miHistorial" text="Historial de compras"/>
                        <MenuItem text="Notificaciones"/>
                        <MenuItem text="Cartelera"/>
                        <SeparatorMenuItem/>
                        <!-- El controller engancha este item en initialize() -->
                        <MenuItem fx:id="miCerrarSesion" text="Cerrar Sesión"/>
                    </items>
                </MenuButton>
                
            </children>
            <padding>
                <Insets top="10" right="16" bottom="10" left="16"/>
            </padding>
        </HBox>
    </top>
   <center>
  <StackPane>
    <children>
      <StackPane fx:id="promoPane"
                 prefHeight="110.0" minHeight="110.0" maxHeight="110.0"
                 style="-fx-background-color: #993726;"
                 BorderPane.alignment="TOP_CENTER" />

      <!-- contenedor dinámico donde se cargan las sub-vistas (buscar, confiteria, etc) -->
      <StackPane fx:id="content" BorderPane.alignment="CENTER" />
    </children>

    <ImageView fx:id="imgPublicidad"
               fitHeight="110.0"
               preserveRatio="true"
               pickOnBounds="true"
               StackPane.alignment="CENTER">
      <image>
        <Image url="/Images/publicidad.png"/>
      </image>
    </ImageView>

    <Label text="Promoción"
           style="-fx-text-fill: #ffffff; -fx-font-weight: bold;"
           StackPane.alignment="TOP_LEFT"
           translateX="33" translateY="10">
      <font><Font name="System Bold" size="13.0"/></font>
    </Label>

    <Button fx:id="btnPromoVerMas"
            text="Ver más"
            prefWidth="75.0" prefHeight="30.0"
            style="-fx-background-color: #993726; -fx-background-radius: 14; -fx-text-fill: #ffffff; -fx-font-weight: bold;"
            StackPane.alignment="BOTTOM_LEFT"
            translateX="32" translateY="-8">
      <font><Font size="10.0"/></font>
    </Button>

  </StackPane>
</center>
<bottom>
  <HBox maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="191.0" prefWidth="606.0" BorderPane.alignment="CENTER">
    <children>
      <GridPane alignment="CENTER" prefHeight="172.0" prefWidth="602.0">
        <columnConstraints>
          <ColumnConstraints hgrow="SOMETIMES" maxWidth="167.79999542236328" minWidth="10.0" prefWidth="167.79999542236328" />
          <ColumnConstraints hgrow="SOMETIMES" maxWidth="163.39996337890625" minWidth="10.0" prefWidth="103.20000457763672" />
          <ColumnConstraints hgrow="SOMETIMES" maxWidth="194.20001220703125" minWidth="10.0" prefWidth="140.00003662109378" />
          <ColumnConstraints hgrow="SOMETIMES" maxWidth="215.39993286132818" minWidth="10.0" prefWidth="144.7999877929687" />
          <ColumnConstraints hgrow="SOMETIMES" maxWidth="137.00000000000006" minWidth="10.0" prefWidth="26.600067138671875" />
        </columnConstraints>
        <rowConstraints>
          <RowConstraints maxHeight="113.9999755859375" minHeight="10.0" prefHeight="113.9999755859375" vgrow="SOMETIMES" />
          <RowConstraints maxHeight="113.9999755859375" minHeight="10.0" prefHeight="41.800024414062506" vgrow="SOMETIMES" />
          <RowConstraints maxHeight="62.5999755859375" minHeight="10.0" prefHeight="62.5999755859375" vgrow="SOMETIMES" />
        </rowConstraints>
        <children>
          <ImageView fitHeight="115.0" fitWidth="149.0" pickOnBounds="true" preserveRatio="true" />
          <ImageView fitHeight="115.0" fitWidth="149.0" pickOnBounds="true" preserveRatio="true" GridPane.columnIndex="1" />
          <ImageView fitHeight="106.0" fitWidth="149.0" pickOnBounds="true" preserveRatio="true" GridPane.columnIndex="2" />
          <ImageView fitHeight="98.0" fitWidth="144.0" pickOnBounds="true" preserveRatio="true" GridPane.columnIndex="3" />
          <Label style="-fx-text-fill: #ffffff; -fx-font-weight: bold;" text="Label" GridPane.halignment="CENTER" GridPane.rowIndex="1" />
          <Label style="-fx-text-fill: #ffffff; -fx-font-weight: bold;" text="Label" GridPane.columnIndex="1" GridPane.halignment="CENTER" GridPane.rowIndex="1" />
          <Label style="-fx-text-fill: #FFFFFF; -fx-font-weight: bold;" text="Label" GridPane.columnIndex="2" GridPane.halignment="CENTER" GridPane.rowIndex="1" />
          <Label style="-fx-text-fill: #ffffff; -fx-font-weight: bold;" text="Label" GridPane.columnIndex="3" GridPane.halignment="CENTER" GridPane.rowIndex="1" />
          <Button fx:id="btnCard1" onAction="#onCard1"
                  contentDisplay="CENTER" mnemonicParsing="false"
                  prefHeight="30.0" prefWidth="69.0"
                  style="-fx-background-color: #993726; -fx-background-radius: 14; -fx-font-weight: bold; -fx-text-fill: #ffffff;"
                  text="Ver más" GridPane.halignment="CENTER" GridPane.rowIndex="2">
            <font><Font size="10.0" /></font>
          </Button>
          <Button fx:id="btnCard2" onAction="#onCard2"
                  contentDisplay="CENTER" mnemonicParsing="false"
                  prefHeight="30.0" prefWidth="69.0"
                  style="-fx-background-color: #993726; -fx-background-radius: 14; -fx-font-weight: bold; -fx-text-fill: #ffffff;"
                  text="Ver más" GridPane.columnIndex="1" GridPane.halignment="CENTER" GridPane.rowIndex="2">
            <font><Font size="10.0" /></font>
          </Button>
          <Button fx:id="btnCard3" onAction="#onCard3"
                  contentDisplay="CENTER" mnemonicParsing="false"
                  prefHeight="30.0" prefWidth="69.0"
                  style="-fx-background-color: #993726; -fx-background-radius: 14; -fx-font-weight: bold; -fx-text-fill: #ffffff;"
                  text="Ver más" GridPane.columnIndex="2" GridPane.halignment="CENTER" GridPane.rowIndex="2">
            <font><Font size="10.0" /></font>
          </Button>
          <Button fx:id="btnCard4" onAction="#onCard4"
                  contentDisplay="CENTER" mnemonicParsing="false"
                  prefHeight="30.0" prefWidth="69.0"
                  style="-fx-background-color: #993726; -fx-background-radius: 14; -fx-font-weight: bold; -fx-text-fill: #ffffff;"
                  text="Ver más" GridPane.columnIndex="3" GridPane.halignment="CENTER" GridPane.rowIndex="2">
            <font><Font size="10.0" /></font>
          </Button>
        </children>
      </GridPane>
    </children>
  </HBox>
</bottom>
</BorderPane>